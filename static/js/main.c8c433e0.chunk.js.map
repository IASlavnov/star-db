{"version":3,"sources":["components/header/index.js","components/header/header.js","services/swapi-service.js","components/spinner/index.js","components/spinner/spinner.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-indicator/death-star.png","components/random-planet/random-planet.js","components/random-planet/index.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","components/row/index.js","components/row/row.js","components/item-list/item-list.js","components/item-list/index.js","components/hoc-helpers/with-data.js","components/swapi-service-context/swapi-service-context.js","components/hoc-helpers/with-swapi-service.js","components/hoc-helpers/compose.js","components/hoc-helpers/with-child-function.js","components/sw-components/item-lists.js","components/item-details/item-details.js","components/item-details/index.js","components/sw-components/person-details.js","components/sw-components/planet-details.js","components/sw-components/starship-details.js","components/pages/people-page.js","components/pages/planets-page.js","components/pages/starships-page.js","components/pages/login-page.js","components/pages/secret-page.js","services/dummy-swapi-service.js","components/app/index.js","components/app/app.js","index.js"],"names":["Header","onServiceChange","className","to","onClick","SwapiService","this","_apiBase","_imageBase","_transformPlanet","bind","_transformPerson","_transformStarship","getAllPeople","getPerson","getAllPlanets","getPlanet","getAllStarships","getStarship","getPersonImage","getPlanetImage","getStarshipImage","url","a","fetch","res","ok","Error","status","json","getResource","results","map","id","person","planet","starship","item","match","_extractId","name","population","rotationPeriod","rotation_period","diameter","model","manufacturer","costInCredits","cost_in_credits","length","crew","passengers","cargoCapacity","gender","birthYear","birth_year","eyeColor","eye_color","Spinner","ErrorIndicator","src","alt","RandomPlanet","props","swapiService","state","loading","error","updatePlanet","onPlanetLoaded","onError","updateInterval","interval","setInterval","clearInterval","Math","floor","random","then","catch","setState","err","hasData","errorMessage","spinner","content","Component","defaultProps","PlanetView","Fragment","ErrorBoundry","hasError","children","Row","left","right","ItemList","data","onItemSelected","renderLabel","items","label","withData","View","update","prevProps","getData","React","createContext","SwapiServiceProvider","Provider","SwapiServiceConsumer","Consumer","withSwapiService","mapMethodsToProps","Wrapped","serviceProps","compose","funcs","comp","reduceRight","prevResult","f","withChildFunction","fn","renderName","PersonList","PlanetList","StarshipList","Record","field","ItemDetails","image","updateItem","itemId","getImageUrl","Children","child","cloneElement","withRouter","history","params","push","PlanetsPage","selectedItem","LoginPage","isLoggedIn","onLogin","SecretPage","DummySwapiService","_people","_planets","_starships","App","selectedPerson","onPersonSelected","value","path","render","exact","component","PeoplePage","StarshipsPage","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c8c433e0.chunk.js","sourcesContent":["import Header from './header';\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './header.css';\r\n\r\nconst Header = ({ onServiceChange }) => {\r\n  return (\r\n    <div className=\"header d-flex\">\r\n      <h3>\r\n        <Link to=\"/\">\r\n          Star DB\r\n        </Link>\r\n      </h3>\r\n      <ul className=\"d-flex\">\r\n        <li>\r\n          <Link to=\"/people/\">People</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/planets/\">Planets</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/starships/\">Starships</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/login\">Login</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/secret\">Secret</Link>\r\n        </li>\r\n      </ul>\r\n      <button\r\n        onClick={onServiceChange}\r\n        className=\"btn btn-primary btn-sm\">\r\n        Change Service\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","export default class SwapiService {\r\n  constructor() {\r\n    this._apiBase = 'https://swapi.dev/api';\r\n    this._imageBase = 'https://starwars-visualguide.com/assets/img';\r\n\r\n    this._transformPlanet = this._transformPlanet.bind(this);\r\n    this._transformPerson = this._transformPerson.bind(this);\r\n    this._transformStarship = this._transformStarship.bind(this);\r\n    this.getAllPeople = this.getAllPeople.bind(this);\r\n    this.getPerson = this.getPerson.bind(this);\r\n    this.getAllPlanets = this.getAllPlanets.bind(this);\r\n    this.getPlanet = this.getPlanet.bind(this);\r\n    this.getAllStarships = this.getAllStarships.bind(this);\r\n    this.getStarship = this.getStarship.bind(this);\r\n    this.getPersonImage = this.getPersonImage.bind(this);\r\n    this.getPlanetImage = this.getPlanetImage.bind(this);\r\n    this.getStarshipImage = this.getStarshipImage.bind(this);\r\n  }\r\n\r\n  async getResource(url) {\r\n    const res = await fetch(`${this._apiBase}${url}`);\r\n\r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}, recieved ${res.status}`);\r\n    }\r\n\r\n    return await res.json();\r\n  }\r\n\r\n  async getAllPeople() {\r\n    const res = await this.getResource(`/people/`);\r\n    return res.results.map(this._transformPerson);\r\n  }\r\n\r\n  async getPerson(id) {\r\n    const person = await this.getResource(`/people/${id}/`);\r\n    return this._transformPerson(person);\r\n  }\r\n\r\n  async getAllPlanets() {\r\n    const res = await this.getResource(`/planets/`);\r\n    return res.results.map(this._transformPlanet);\r\n  }\r\n\r\n  async getPlanet(id) {\r\n    const planet = await this.getResource(`/planets/${id}/`);\r\n    return this._transformPlanet(planet);\r\n  }\r\n\r\n  async getAllStarships() {\r\n    const res = await this.getResource(`/starships/`);\r\n    return res.results.map(this._transformStarship);\r\n  }\r\n\r\n  async getStarship(id) {\r\n    const starship = await this.getResource(`/starships/${id}/`);\r\n    return this._transformStarship(starship);\r\n  }\r\n\r\n  getPersonImage({id}) {\r\n    return `${this._imageBase}/characters/${id}.jpg`;\r\n  }\r\n\r\n  getStarshipImage({id}) {\r\n    return `${this._imageBase}/starships/${id}.jpg`;\r\n  };\r\n\r\n  getPlanetImage({id}) {\r\n    return `${this._imageBase}/planets/${id}.jpg`;\r\n  };\r\n\r\n  _extractId(item) {\r\n    const idRegExp = /\\/([0-9]*)\\/$/;\r\n    return item.url.match(idRegExp)[1];\r\n  }\r\n\r\n  _transformPlanet(planet) {\r\n   return {\r\n      id: this._extractId(planet),\r\n      name: planet.name,\r\n      population: planet.population,\r\n      rotationPeriod: planet.rotation_period,\r\n      diameter: planet.diameter,\r\n    };\r\n  }\r\n\r\n  _transformStarship(starship) {\r\n    return {\r\n      id: this._extractId(starship),\r\n      name: starship.name,\r\n      model: starship.model,\r\n      manufacturer: starship.manufacturer,\r\n      costInCredits: starship.cost_in_credits,\r\n      length: starship.length,\r\n      crew: starship.crew,\r\n      passengers: starship.passengers,\r\n      cargoCapacity: starship.cargoCapacity,\r\n    };\r\n  }\r\n\r\n  _transformPerson(person) {\r\n    return {\r\n      id: this._extractId(person),\r\n      name: person.name,\r\n      gender: person.gender,\r\n      birthYear: person.birth_year,\r\n      eyeColor: person.eye_color,\r\n    };\r\n  }\r\n}\r\n","import Spinner from './spinner.js';\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\n\r\nimport './spinner.css';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"loadingio-spinner-double-ring-3bf5qhsvyf3\">\r\n      <div className=\"ldio-08duhs6ubks\">\r\n        <div></div>\r\n        <div></div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n        <div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import ErrorIndicator from './error-indicator.js';\r\n\r\nexport default ErrorIndicator;\r\n","import React from 'react';\r\n\r\nimport './error-indicator.css';\r\nimport icon from './death-star.png';\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"error-indicator\">\r\n      <img src={icon} alt=\"error-icon\" />\r\n      <span className=\"boom\">BOOM!</span>\r\n      <span>\r\n        something has gone terrible wrong\r\n      </span>\r\n      <span>\r\n        (but we already sent droids to fix it)\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABcVBMVEUAAACUMUKVNESUNUaTNEWTNEWTNUWUNEWUNEWUNEWTNEWUNEWUNEWVNEWVNESUNUeWMkOUNUWVNEWUNEWTM0aVNUSSN0mVNUaUNEWUNEWUNEWVNESSNESWLUuUNESUNEWUNEafQECUNEaUNUWXNEaUMkaUNEWVNUaVM0SUNEWUM0WdO06UM0SVM0WSNkeVNUCUNEWUNEWVNEaUNESTMUWVMkSXOEiUNEWUNUSVNUSVK0CUNEWVNEWQN0OUNEaVNESUNEWAQED/AACUNEWZM02UNEaTNUaVM0SVNUaUNEaTNESSN0mUNEWUNUaZMzOUNEWVM0WUNEWTNkWUNEWVNEaXLkaUNEWUNEWXOUKUNEWVM0WUNkWSMkeUNEWUNUWUNEWUNEWVNUSUM0aTNUaTMkSUNEaUNESUNEWUNESPMECUNEWUNkOUNEWTNESUNUaTNEWZM0CUNEWVNEaUNUWVNUWSNUSUNEWUNEWTNESUNEUAAAAeSPByAAAAeXRSTlMAH155k63H4fjr07qiiWwrLn7O45pSDh2N3vuvMRGK97AIde4sTOJqeP2pDaTaLxjIwYRPGikg7FZlDNK2F8aoegQB2wpYhzxbko4c9j4Fnn3zNNS7FsuyG/FzUT3+jF3lwm5XR2Lya3AQ+ibqU6WmFNZx6TBESqdASVNu+gAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCRwPAQ3scZC+AAACoUlEQVRYw6WX+WPSMBTH6z11OhXva4hnFR0MdBsymGzshLmjKEMZG7svd3jmv7fJo23SJDQl35+S9/I+TV7SHIYh16nTZ86eO3+h6+Kly91XrvYY4XTt+g3EKnLz1m3V6Dt37yGR7j94qBL+6HEvkioaiHgSe4raKvqsbfzzFyhIXS/bxL8yA+NtvX4j635cJdzW23fC+L6E1yTZn0qnU/1JCaH3vSD+Q8T1Dww6xsEBMWGIj898dL3ZYc88nOWjc/mRT1x8Ier6R8dox9goByiKEjDuus0J1jNhqgAmPfcUWFLT0ykoTSkAZkqeu4wNs2To2VlcLisAPnteM4MNc1CZI+k1AwE9dpP5Bfu7MYQWiWURmnoVq0KKC/Me50vGBXzFc4MLVbvbxLIEbZZIBQ+n1mqao3ryzYn/jmv15WKxYSG0Qkyr0GSVVFbsUqS5hrVcFw2FXbBpbFqH8joupyXr2QXM1BkzTN7GJkKbGzChQYAt1pwswNIulyFJhWQQwPLZt9kp2pbFO0nc2fXZS3t0/F5JFu9M4yTn2T/w4g/2hcH0J34I/IdH4Ds6lHydBiREDczj+MlJ/NhECoDgfbg9oLCrCah0Ev+TAvyy5yMfUt2/KcAfhBqGjrQBYYfQ9APCJjHvB4SdRg4QdiHxAFjKrS0L1LDkgL8cAH6mGmOrhukB/M6tbRuEt3d1wI5KFmP4jKqwI3PPBUsBUCUta6zRORe2FABWw85tM8Ia11oA37auLsnB0gHAPdps+bupBPAOVz5RagDneOenShFAXzA6yQF7xVHXP249KyoHW0utQC/o8RAA4T2Rumh2BqCvusFDEFx1mct2sIZEfehLKMcLr/v6Dw5D+8lj6D+69J99hvbDE0vz6Uuk9/gGKT3//wOKqXrHYMfrIgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wOS0yOFQxNTowMToxMyswMjowMIL/AEkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDktMjhUMTU6MDE6MTMrMDI6MDDzorj1AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport SwapiService from '../../services/swapi-service';\r\nimport './random-planet.css';\r\nimport Spinner from \"../spinner\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nexport default class RandomPlanet extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      planet: {},\r\n      loading: true,\r\n      error: false,\r\n    };\r\n\r\n    this.updatePlanet = this.updatePlanet.bind(this);\r\n    this.onPlanetLoaded = this.onPlanetLoaded.bind(this);\r\n    this.onError = this.onError.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { updateInterval } = this.props;\r\n    this.updatePlanet();\r\n    this.interval = setInterval(this.updatePlanet, updateInterval);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  swapiService = new SwapiService();\r\n\r\n  updatePlanet() {\r\n    const id = Math.floor(Math.random() * 25) + 3;\r\n    this.swapiService\r\n      .getPlanet(id)\r\n      .then(this.onPlanetLoaded)\r\n      .catch(this.onError);\r\n  }\r\n\r\n  onPlanetLoaded(planet) {\r\n    this.setState({\r\n      planet,\r\n      loading: false,\r\n      error: false,\r\n    });\r\n  }\r\n\r\n  onError(err) {\r\n    this.setState({\r\n      error: true,\r\n      loading: false,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { planet, loading, error } = this.state;\r\n\r\n    const hasData = !(loading || error);\r\n\r\n    const errorMessage = error ? <ErrorIndicator /> : null;\r\n    const spinner = loading ? <Spinner /> : null;\r\n    const content = hasData ? <PlanetView planet={planet} /> : null;\r\n\r\n    return (\r\n      <div className=\"random-planet jumbotron rounded\">\r\n        { errorMessage }\r\n        { spinner }\r\n        { content }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nRandomPlanet.defaultProps = {\r\n  updateInterval: 10000,\r\n};\r\n\r\nRandomPlanet.propTypes = {\r\n  updateInterval: PropTypes.number\r\n};\r\n\r\nconst PlanetView = ({ planet }) => {\r\n  const { id, name, population, rotationPeriod, diameter } = planet;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <img className=\"planet-image\"\r\n           src={`https://starwars-visualguide.com/assets/img/planets/${id}.jpg`} />\r\n      <div>\r\n        <h4>{name}</h4>\r\n        <ul className=\"list-group list-group-flush\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Population</span>\r\n            <span>{population}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Rotation Period</span>\r\n            <span>{rotationPeriod}</span>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"term\">Diameter</span>\r\n            <span>{diameter}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import RandomPlanet from './random-planet';\r\n\r\nexport default RandomPlanet;\r\n","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;\r\n","import React, { Component } from 'react';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nexport default class ErrorBoundry extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasError: false,\r\n    }\r\n  }\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n","import Row from './row.js';\r\n\r\nexport default Row;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './row.css';\r\n\r\nconst Row = ({ left, right }) => {\r\n  return (\r\n    <div className=\"row mb2\">\r\n      <div className=\"col-md-6\">\r\n        {left}\r\n      </div>\r\n      <div className=\"col-md-6\">\r\n        {right}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nRow.propTypes = {\r\n  left: PropTypes.node,\r\n  right: PropTypes.node,\r\n};\r\n\r\nexport default Row;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './item-list.css';\r\n\r\n// Отвечает за отображение\r\nconst ItemList = (props) => {\r\n  const { data, onItemSelected, children: renderLabel } = props;\r\n\r\n  const items = data.map((item) => {\r\n    const { id } = item;\r\n    const label = renderLabel(item);\r\n\r\n    return (\r\n      <li className=\"list-group-item\"\r\n        key={id}\r\n        onClick={() => onItemSelected(id)}>\r\n        {label}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <ul className=\"item-list list-group\">\r\n      {items}\r\n    </ul>\r\n  );\r\n};\r\n\r\nItemList.defaultProps = {\r\n  onItemSelected: () => {},\r\n};\r\n\r\nItemList.propTypes = {\r\n  onItemSelected: PropTypes.func,\r\n  data: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  children: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ItemList;\r\n","import ItemList from './item-list';\r\n\r\nexport default ItemList;\r\n","import React, {Component} from 'react';\r\nimport Spinner from '../spinner';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nconst withData = (View) => {\r\n  return class extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        data: null,\r\n        loading: true,\r\n        error: false,\r\n      };\r\n    }\r\n\r\n    componentDidMount() {\r\n      this.update();\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if (this.props.getData !== prevProps.getData) {\r\n        this.update();\r\n      }\r\n    }\r\n\r\n    update() {\r\n      this.setState({\r\n        loading: true,\r\n        error: false,\r\n      })\r\n\r\n      this.props.getData()\r\n        .then((data) => {\r\n          this.setState({\r\n            data,\r\n            loading: false,\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.setState({\r\n            error: true,\r\n            loading: false,\r\n          })\r\n        });\r\n    }\r\n\r\n    render() {\r\n      const { data, loading, error } = this.state;\r\n\r\n      if (loading) {\r\n        return <Spinner />;\r\n      }\r\n\r\n      if (error) {\r\n        return <ErrorIndicator />;\r\n      }\r\n\r\n      return <View {...this.props} data={data} />;\r\n    }\r\n  };\r\n};\r\n\r\nexport default withData;\r\n","import React from 'react';\r\n\r\nconst {\r\n  Provider : SwapiServiceProvider,\r\n  Consumer : SwapiServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n  SwapiServiceProvider,\r\n  SwapiServiceConsumer\r\n};\r\n","import React from 'react';\r\n\r\nimport {SwapiServiceConsumer} from '../swapi-service-context';\r\n\r\nconst withSwapiService = (mapMethodsToProps) => (Wrapped) => {\r\n return (props) => {\r\n   return (\r\n     <SwapiServiceConsumer>\r\n     {\r\n       (swapiService) => {\r\n         const serviceProps = mapMethodsToProps(swapiService);\r\n\r\n         return (\r\n           <Wrapped {...props} {...serviceProps} />\r\n         );\r\n       }\r\n     }\r\n   </SwapiServiceConsumer>\r\n   );\r\n };\r\n};\r\n\r\nexport default withSwapiService;\r\n","const compose = (...funcs) => (comp) => {\r\n  return funcs.reduceRight((prevResult, f) => f(prevResult), comp);\r\n};\r\n\r\nexport default compose;\r\n","import React from 'react';\r\n\r\nconst withChildFunction = (fn) => (Wrapped) => {\r\n  return (props) => {\r\n    return (\r\n      <Wrapped {...props}>\r\n        {fn}\r\n      </Wrapped>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withChildFunction;\r\n","import React from 'react';\r\n\r\nimport ItemList from '../item-list';\r\nimport { withData, withSwapiService, withChildFunction, compose } from '../hoc-helpers';\r\n\r\nconst renderName = ({name}) => <span>{name}</span>;\r\n\r\nconst renderModelAndName = ({model, name}) => <span>{name} ({model})</span>;\r\n\r\nconst mapPersonMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getAllPeople,\r\n  };\r\n};\r\n\r\nconst mapPlanetMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getAllPlanets,\r\n  };\r\n};\r\n\r\nconst mapStarshipMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getAllStarships,\r\n  };\r\n};\r\n\r\nconst PersonList = compose(\r\n  withSwapiService(mapPersonMethodsToProps),\r\n  withData,\r\n  withChildFunction(renderName)\r\n)(ItemList);\r\n\r\nconst PlanetList = compose(\r\n  withSwapiService(mapPlanetMethodsToProps),\r\n  withData,\r\n  withChildFunction(renderName)\r\n)(ItemList);\r\n\r\nconst StarshipList = compose(\r\n  withSwapiService(mapStarshipMethodsToProps),\r\n  withData,\r\n  withChildFunction(renderModelAndName)\r\n)(ItemList);\r\n\r\nexport {\r\n  PersonList,\r\n  PlanetList,\r\n  StarshipList\r\n};\r\n","import React, { Component } from 'react';\r\n\r\nimport './item-details.css';\r\nimport SwapiService from '../../services/swapi-service';\r\n\r\nconst Record = ({ item, field, label }) => {\r\n  return (\r\n    <li className=\"list-group-item\">\r\n      <span className=\"term\">{label}</span>\r\n      <span>{ item[field] }</span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport {Record};\r\n\r\nexport default class ItemDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      item: null,\r\n      image: null,\r\n    };\r\n\r\n    this.swapiService = new SwapiService();\r\n    this.updateItem = this.updateItem.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateItem();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.itemId !== prevProps.itemId ||\r\n      this.props.getData !== prevProps.getData ||\r\n      this.props.getImageUrl !== prevProps.getImageUrl) {\r\n      this.updateItem();\r\n    }\r\n  }\r\n\r\n  updateItem() {\r\n    const { itemId, getData, getImageUrl } = this.props;\r\n    if (!itemId) {\r\n      return;\r\n    }\r\n\r\n    getData(itemId)\r\n      .then((item) => {\r\n        this.setState({\r\n          item,\r\n          image: getImageUrl(item),\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n\r\n    const { item, image } = this.state;\r\n    if (!item) {\r\n      return <span>Select a item from a list</span>;\r\n    }\r\n\r\n    const { name } = item;\r\n\r\n    return (\r\n      <div className=\"item-details card\">\r\n        <img className=\"item-image\"\r\n             src={image}\r\n             alt=\"item\"/>\r\n\r\n        <div className=\"card-body\">\r\n          <h4>{name}</h4>\r\n          <ul className=\"list-group list-group-flush\">\r\n            {\r\n              React.Children.map(this.props.children, (child) => {\r\n                return React.cloneElement(child, { item });\r\n              })\r\n            }\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import ItemDetails, { Record } from './item-details';\r\n\r\nexport default ItemDetails;\r\n\r\nexport { Record };\r\n","import React from 'react';\r\n\r\nimport ItemDetails, { Record } from '../item-details';\r\nimport { withSwapiService } from '../hoc-helpers';\r\n\r\nconst PersonDetails = (props) => {\r\n  return (\r\n    <ItemDetails {...props}>\r\n      <Record field=\"gender\" label=\"Gender\" />\r\n      <Record field=\"eyeColor\" label=\"Eye Color\" />\r\n    </ItemDetails>\r\n  );\r\n};\r\n\r\nconst mapMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getPerson,\r\n    getImageUrl: swapiService.getPersonImage,\r\n  }\r\n};\r\n\r\nexport default withSwapiService(mapMethodsToProps)(PersonDetails);\r\n","import React from 'react';\r\n\r\nimport ItemDetails, { Record } from '../item-details';\r\nimport { withSwapiService } from '../hoc-helpers';\r\n\r\nconst PlanetDetails = (props) => {\r\n  return (\r\n    <ItemDetails {...props}>\r\n      <Record field=\"population\" label=\"Population\" />\r\n      <Record field=\"rotationPeriod\" label=\"Rotation Period\" />\r\n      <Record field=\"diameter\" label=\"Diameter\" />\r\n    </ItemDetails>\r\n  );\r\n};\r\n\r\nconst mapMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getPlanet,\r\n    getImageUrl: swapiService.getPlanetImage,\r\n  };\r\n};\r\n\r\nexport default withSwapiService(mapMethodsToProps)(PlanetDetails);\r\n","import React from 'react';\r\n\r\nimport ItemDetails, { Record } from '../item-details';\r\nimport { withSwapiService } from '../hoc-helpers';\r\n\r\nconst StarshipDetails = (props) => {\r\n  return (\r\n    <ItemDetails {...props}>\r\n      <Record field=\"model\" label=\"Model\" />\r\n      <Record field=\"length\" label=\"Length\" />\r\n      <Record field=\"costInCredits\" label=\"Cost\" />\r\n    </ItemDetails>\r\n  );\r\n};\r\n\r\nconst mapMethodsToProps = (swapiService) => {\r\n  return {\r\n    getData: swapiService.getStarship,\r\n    getImageUrl: swapiService.getStarshipImage,\r\n  };\r\n};\r\n\r\nexport default withSwapiService(mapMethodsToProps)(StarshipDetails);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Row from '../row';\r\nimport { PersonList, PersonDetails } from '../sw-components';\r\n\r\nconst PeoplePage = ({history, match}) => {\r\n  const {id} = match.params;\r\n  return (\r\n    <Row\r\n      left={<PersonList onItemSelected={(id) => history.push(id)} />}\r\n      right={<PersonDetails itemId={id} />} />\r\n  );\r\n}\r\n\r\nexport default withRouter(PeoplePage);\r\n","import React, { Component } from 'react';\r\n\r\nimport Row from '../row';\r\nimport { PlanetList, PlanetDetails } from '../sw-components';\r\n\r\nexport default class PlanetsPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedItem: null,\r\n    };\r\n\r\n    this.onItemSelected = this.onItemSelected.bind(this);\r\n  }\r\n\r\n  onItemSelected(selectedItem) {\r\n    this.setState({ selectedItem });\r\n  }\r\n\r\n  render() {\r\n    const { selectedItem } = this.state;\r\n\r\n    return (\r\n      <Row\r\n        left={<PlanetList onItemSelected={this.onItemSelected} />}\r\n        right={<PlanetDetails itemId={selectedItem} />} />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { StarshipList } from '../sw-components';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst StarshipsPage = ({history}) => {\r\n  return (\r\n    <StarshipList onItemSelected={(itemId) => {\r\n      history.push(itemId);\r\n    }} />\r\n  );\r\n};\r\n\r\nexport default withRouter(StarshipsPage);\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst LoginPage = ({ isLoggedIn, onLogin }) => {\r\n  if (isLoggedIn) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"jumbotron\">\r\n      <p>Login to see secret page!</p>\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        onClick={onLogin} >\r\n        Login\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst SecretPage = ({ isLoggedIn }) => {\r\n  if (isLoggedIn) {\r\n    return (\r\n      <div className=\"jumbotron text-center\">\r\n        <h3>This page is full of secrets!!!</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <Redirect to=\"/login\" />;\r\n};\r\n\r\nexport default SecretPage;\r\n","export default class DummySwapiService {\r\n\r\n  _people = [\r\n    {\r\n      id: 1,\r\n      name: 'Bilbo Baggins [TEST DATA]',\r\n      gender: 'male',\r\n      birthYear: 'long ago',\r\n      eyeColor: 'dark brown'\r\n    },\r\n\r\n    {\r\n      id: 2,\r\n      name: 'Frodo Baggins [TEST DATA]',\r\n      gender: 'male',\r\n      birthYear: 'long ago',\r\n      eyeColor: 'dark brown'\r\n    }\r\n  ];\r\n\r\n  _planets = [\r\n    {\r\n      id: 1,\r\n      name: 'Earth [TEST DATA]',\r\n      population: '7.530.000.000',\r\n      rotationPeriod: '23 hours 56 seconds',\r\n      diameter: '12.742 km'\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Venus [TEST DATA]',\r\n      population: 'not known',\r\n      rotationPeriod: '243 days',\r\n      diameter: '12.104 km'\r\n    }\r\n  ];\r\n\r\n  _starships = [\r\n    {\r\n      id: 1,\r\n      name: 'USS Enterprise [TEST DATA]',\r\n      model: 'NCC-1701-C',\r\n      manufacturer: 'Northrop Grumman Shipbuilding',\r\n      costInCredits: 'not known',\r\n      length: 'approx 300 meters',\r\n      crew: 1000,\r\n      passengers: 50,\r\n      cargoCapacity: 100\r\n    }\r\n  ];\r\n\r\n  getAllPeople = async () => {\r\n    return this._people;\r\n  };\r\n\r\n  getPerson = async () => {\r\n    return this._people[0];\r\n  };\r\n\r\n  getAllPlanets = async () => {\r\n    return this._planets;\r\n  };\r\n\r\n  getPlanet = async () => {\r\n    return this._planets[0]\r\n  };\r\n\r\n  getAllStarships = async () => {\r\n    return this._starships;\r\n  };\r\n\r\n  getStarship = async () => {\r\n    return this._starships[0];\r\n  };\r\n\r\n  getPersonImage = () => {\r\n    return `https://placeimg.com/400/500/people`\r\n  };\r\n\r\n  getStarshipImage = () => {\r\n    return `https://placeimg.com/600/400/tech`;\r\n  };\r\n\r\n  getPlanetImage = () => {\r\n    return `https://placeimg.com/400/400/nature`\r\n  };\r\n}\r\n","import App from './app.js';\r\n\r\nexport default App;\r\n","import React, { Component } from 'react';\r\nimport {BrowserRouter as Router, Redirect, Route, Switch} from 'react-router-dom';\r\nimport './app.css';\r\n\r\nimport Header from '../header';\r\nimport RandomPlanet from '../random-planet';\r\nimport ErrorBoundry from '../error-boundry';\r\nimport { PeoplePage, PlanetsPage, StarshipsPage, LoginPage, SecretPage } from '../pages';\r\n\r\nimport SwapiService from '../../services/swapi-service';\r\nimport { SwapiServiceProvider } from '../swapi-service-context';\r\nimport DummySwapiService from '../../services/dummy-swapi-service';\r\nimport { StarshipDetails } from '../sw-components';\r\n\r\nexport default class App extends Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      selectedPerson: null,\r\n      swapiService: new SwapiService(),\r\n      isLoggedIn: false,\r\n    };\r\n\r\n    this.onPersonSelected = this.onPersonSelected.bind(this);\r\n    this.onServiceChange = this.onServiceChange.bind(this);\r\n    this.onLogin = this.onLogin.bind(this);\r\n  }\r\n\r\n  onLogin() {\r\n    this.setState({\r\n      isLoggedIn: true,\r\n    });\r\n  }\r\n\r\n  onPersonSelected(id) {\r\n    this.setState({\r\n      selectedPerson: id,\r\n    });\r\n  }\r\n\r\n  onServiceChange() {\r\n    this.setState(({ swapiService }) => {\r\n      const Service = swapiService instanceof SwapiService ?\r\n        DummySwapiService : SwapiService;\r\n\r\n      return {\r\n        swapiService: new Service(),\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { isLoggedIn } = this.state;\r\n\r\n    return (\r\n        <ErrorBoundry>\r\n          <SwapiServiceProvider value={this.state.swapiService}>\r\n            <Router>\r\n              <div className=\"stardb-app\">\r\n\r\n                <Header onServiceChange={this.onServiceChange} />\r\n\r\n                <RandomPlanet />\r\n\r\n                <Switch>\r\n                  <Route path=\"/\" render={() => <h2>Welcome to StarDB</h2>} exact />\r\n                  {/*<Route path=\"/people\" render={() => <h2>People</h2>} exact />*/}\r\n                  <Route path=\"/people/:id?\" component={PeoplePage} />\r\n                  <Route path=\"/planets\" component={PlanetsPage} />\r\n                  <Route path=\"/starships\" component={StarshipsPage} exact />\r\n                  <Route path=\"/starships/:id\" render={({ match }) => {\r\n                    const { id } = match.params;\r\n                    return <StarshipDetails itemId={id}/>;\r\n                  }} />\r\n                  <Route\r\n                    path=\"/login\"\r\n                    render={() => (\r\n                      <LoginPage\r\n                        isLoggedIn={isLoggedIn}\r\n                        onLogin={this.onLogin}/>\r\n                    )} />\r\n                  <Route path=\"/secret\" render={() => <SecretPage isLoggedIn={isLoggedIn} />} />\r\n\r\n                  {/*<Route render={() => <h2>Page not found</h2>} />*/}\r\n                  <Redirect to=\"/\" />\r\n                </Switch>\r\n\r\n              </div>\r\n            </Router>\r\n          </SwapiServiceProvider>\r\n        </ErrorBoundry>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}